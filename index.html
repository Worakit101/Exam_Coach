<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Exam Coach ‚Äî Smart Study</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
  <!-- AR/VR viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-900">

<div class="flex min-h-screen">

  <!-- SIDEBAR -->
  <aside class="w-72 bg-blue-700 text-white p-6 flex flex-col">
    <div class="flex items-center gap-3 mb-6">
      <img src="https://static.vecteezy.com/system/resources/previews/001/486/411/original/open-book-icon-free-vector.jpg" alt="logo" class="w-10 h-10 rounded">
      <div>
        <h1 class="text-xl font-bold">Exam Coach</h1>
        <p class="text-sm opacity-80">Smart Study Assistant</p>
      </div>
    </div>

    <nav class="flex flex-col gap-2 mb-4">
      <button class="side-btn" onclick="showPage('dashboard')">üè† Dashboard</button>
      <button class="side-btn" onclick="showPage('today')">üìÖ Today‚Äôs Plan</button>
      <button class="side-btn" onclick="showPage('addExam')">‚ûï Add Exam</button>
      <button class="side-btn" onclick="showPage('planner')">üìñ Planner</button>
      <button class="side-btn" onclick="showPage('micro')">üß© Micro-learning</button>
      <button class="side-btn" onclick="showPage('quiz')">üß† Quiz Mode</button>
      <button class="side-btn" onclick="showPage('tutor')">üë©‚Äçüè´ AI Tutor</button>
      <button class="side-btn" onclick="showPage('reminders')">‚è∞ Reminders</button>
      <button class="side-btn" onclick="showPage('focus')">üéØ Focus Mode</button>
      <button class="side-btn" onclick="showPage('ar')">üß™ AR/VR Learning</button>
      <button class="side-btn" onclick="showPage('community')">üí¨ Community</button>
    </nav>

    <div class="mt-auto space-y-2">
      <div class="mb-3">
        <button id="themeToggle" class="w-full py-2 rounded bg-white text-blue-700">üåô Toggle Dark</button>
      </div>
      <div class="text-xs opacity-90">Points: <span id="pointsDisplay">0</span>, Badges: <span id="badgesDisplay">0</span></div>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="flex-1 p-8 overflow-auto">

    <!-- DASHBOARD -->
    <section id="dashboardPage">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold flex items-center gap-2">üìä ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</h2>
        <div class="flex gap-2">
          <button class="btn" onclick="exportCalendar()">üîΩ Export calendar (.ics)</button>
          <button class="btn-ghost" onclick="bulkGoogleLinks()">‚ÜóÔ∏é Quick add to Google</button>
        </div>
      </div>

      <!-- Mood Tracker + Suggestion -->
      <div class="grid md:grid-cols-3 gap-4 mb-6">
        <div class="bg-white p-4 rounded shadow md:col-span-2">
          <label class="block text-sm mb-1">Overall progress</label>
          <div class="w-full bg-gray-300 rounded-full h-6">
            <div id="progressBar" class="h-6 rounded-full bg-red-500 text-white text-sm font-semibold text-center">0%</div>
          </div>
          <div id="summaryCards" class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4"></div>
        </div>
        <div class="bg-white p-4 rounded shadow">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold">üß† Mood & Suggestions</h3>
            <button class="btn-ghost text-xs" onclick="clearMood()">‡∏•‡πâ‡∏≤‡∏á</button>
          </div>
          <select id="moodSelect" class="input mb-2">
            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</option>
            <option value="sleepy">‡∏á‡πà‡∏ß‡∏áüò™</option>
            <option value="tired">‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢üò´Ô∏è</option>
            <option value="ok">‡πÇ‡∏≠‡πÄ‡∏ÑüëåÔ∏è</option>
            <option value="ready">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏∏‡∏¢üî•</option>
          </select>
          <button class="btn w-full mb-2" onclick="saveMoodAndSuggest()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å & ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</button>
          <div id="moodSuggestion" class="text-sm text-gray-700"></div>
        </div>
      </div>

      <!-- Weekly plan -->
      <h3 class="text-lg font-semibold mb-2">üìÖ ‡πÅ‡∏ú‡∏ô 7 ‡∏ß‡∏±‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤</h3>
      <div id="weeklyPlan" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
    </section>

    <!-- TODAY -->
    <section id="todayPage" class="hidden">
      <h2 class="text-2xl font-bold mb-4">üìÖ ‡πÅ‡∏ú‡∏ô‡∏ï‡∏¥‡∏ß‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
      <div id="todayList" class="space-y-3"></div>
    </section>

    <!-- ADD EXAM -->
    <section id="addExamPage" class="hidden">
      <h2 class="text-2xl font-bold mb-4">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</h2>
      <form id="examForm" class="space-y-3 bg-white p-4 rounded shadow">
        <input id="subject" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤" class="input" required>
        <input id="date" type="date" class="input" required>
        <textarea id="content" placeholder="‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤" class="input"></textarea>
        <label class="block">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô
          <select id="intensity" class="input">
            <option value="low">‡πÄ‡∏ö‡∏≤</option>
            <option value="medium" selected>‡∏Å‡∏•‡∏≤‡∏á</option>
            <option value="high">‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô</option>
          </select>
        </label>
        <div class="flex flex-wrap gap-2">
          <button class="btn" type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
          <button type="button" class="btn-ghost" onclick="fillSampleExam()">‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
        </div>
      </form>
    </section>

    <!-- PLANNER -->
    <section id="plannerPage" class="hidden">
      <h2 class="text-2xl font-bold mb-4">üìñ Planner</h2>
      <div id="plannerList" class="space-y-2"></div>
    </section>

    <!-- MICRO-LEARNING -->
    <section id="micro" class="hidden">
      <h2 class="text-2xl font-bold mb-4">üß© Micro-learning</h2>

      <div class="grid md:grid-cols-2 gap-4">
        <!-- Flashcards panel -->
        <div class="bg-white p-4 rounded shadow">
          <h3 class="font-semibold mb-2">Flashcards</h3>
          <div class="mb-2 grid grid-cols-2 gap-2">
            <input id="fcSubject" placeholder="‡∏ß‡∏¥‡∏ä‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ì‡∏¥‡∏ï)" class="input">
            <input id="fcTopic" placeholder="‡∏ö‡∏ó" class="input">
          </div>
          <div class="mb-2">
            <textarea id="fcQ" placeholder="‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (‡∏´‡∏ô‡πâ‡∏≤)" class="input"></textarea>
            <textarea id="fcA" placeholder="‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö (‡∏´‡∏•‡∏±‡∏á)" class="input"></textarea>
            <div class="flex gap-2 mt-2">
              <button class="btn" onclick="addFlashcard()">‡πÄ‡∏û‡∏¥‡πà‡∏° Flashcard</button>
              <button class="btn-ghost" onclick="startFlashcardSession()">‡πÄ‡∏£‡∏¥‡πà‡∏° session</button>
            </div>
          </div>
          <div id="fcStats" class="text-sm opacity-80"></div>
        </div>

        <!-- Short session -->
        <div class="bg-white p-4 rounded shadow">
          <h3 class="font-semibold mb-2">Short session (5‚Äì10 min)</h3>
          <label>‡πÄ‡∏ß‡∏•‡∏≤ (‡∏ô‡∏≤‡∏ó‡∏µ)</label>
          <input id="sessionMinutes" type="number" min="1" max="30" value="5" class="input w-24 mb-2">
          <div class="flex gap-2">
            <button class="btn" onclick="startShortSession()">‡πÄ‡∏£‡∏¥‡πà‡∏° Session</button>
            <button class="btn-ghost" onclick="stopShortSession()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
          </div>
          <div id="sessionTimer" class="mt-4 text-xl font-bold"></div>
        </div>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quizPage" class="hidden">
      <h2 class="text-2xl font-bold mb-4">üß† Quiz Mode</h2>
      <div class="bg-white p-4 rounded shadow">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-2 mb-3">
          <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô
            <select id="quizGrade" class="input"></select>
          </label>
          <label>‡∏ß‡∏¥‡∏ä‡∏≤
            <select id="quizSubject" class="input"></select>
          </label>
          <label>‡∏ö‡∏ó
            <select id="quizTopic" class="input"></select>
          </label>
          <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠
            <input id="quizCount" type="number" value="5" min="1" max="30" class="input">
          </label>
        </div>
        <div class="flex gap-2 mb-3">
          <button class="btn" onclick="startQuiz()">‡πÄ‡∏£‡∏¥‡πà‡∏° Quiz</button>
          <button class="btn-ghost" onclick="generateAIQuestionsAndPreview()">Preview AI-gen questions</button>
        </div>
        <div id="quizContainer"></div>
      </div>
    </section>

    <!-- AI TUTOR -->
    <section id="tutorPage" class="hidden">
      <h2 class="text-2xl font-bold mb-4">üë©‚Äçüè´ AI Tutor (Template)</h2>
      <div class="bg-white p-4 rounded shadow">
        <div class="mb-2 text-sm text-gray-600">‡∏û‡∏¥‡∏°‡∏û‡πå‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏£‡∏∏‡∏õ/‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ step-by-step</div>
        <div class="flex gap-2 mb-3">
          <input id="tutorInput" class="input flex-1" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏£‡∏∏‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô, ‡πÅ‡∏Å‡πâ‡∏™‡∏°‡∏Å‡∏≤‡∏£ 2x+3=11">
          <button class="btn" onclick="runTutor()">‡∏ñ‡∏≤‡∏°</button>
        </div>
        <div id="tutorOutput" class="prose max-w-none"></div>
      </div>
    </section>

    <!-- REMINDERS -->
    <section id="reminders" class="hidden">
      <h2 class="text-2xl font-bold mb-4">‚è∞ Reminders</h2>
      <form id="reminderForm" class="bg-white p-4 rounded shadow space-y-2">
        <input id="remTitle" placeholder="‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô" class="input" required>
        <input id="remDatetime" type="datetime-local" class="input" required>
        <input id="remMessage" placeholder="‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô" class="input">
        <div class="grid grid-cols-2 gap-2">
          <label>‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á)
            <input id="remVoice" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏ö‡∏ó 1-2 ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞!" class="input">
          </label>
          <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ó‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
            <select id="remVoiceSelect" class="input"></select>
          </label>
        </div>
        <div class="flex gap-2">
          <button class="btn" type="submit">‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</button>
          <button class="btn-ghost" type="button" onclick="loadSampleReminders()">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
          <button class="btn-ghost" type="button" onclick="previewVoice()">üîä ‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
        </div>
      </form>

      <div id="remindersList" class="mt-4 space-y-2"></div>
    </section>

    <!-- FOCUS / POMODORO -->
    <section id="focus" class="hidden">
      <h2 class="text-2xl font-bold mb-4">üéØ Focus Mode / Pomodoro</h2>
      <div class="bg-white p-4 rounded shadow">
        <div class="flex gap-2 items-center mb-3">
          <label>Work (min)
            <input id="pomWork" type="number" value="25" class="input w-24">
          </label>
          <label>Break (min)
            <input id="pomBreak" type="number" value="5" class="input w-24">
          </label>
          <button class="btn" onclick="startPomodoro()">‡πÄ‡∏£‡∏¥‡πà‡∏°</button>
          <button class="btn-ghost" onclick="stopPomodoro()">‡∏´‡∏¢‡∏∏‡∏î</button>
          <button class="btn-ghost" onclick="toggleFocusMode()">‡∏™‡∏•‡∏±‡∏ö Focus Mode</button>
        </div>
        <div id="pomTimer" class="text-2xl font-bold"></div>
      </div>
    </section>

    <!-- AR/VR -->
    <section id="arPage" class="hidden">
      <h2 class="text-2xl font-bold mb-4">üß™ AR/VR Learning (‡∏ó‡∏î‡∏•‡∏≠‡∏á)</h2>
      <div class="bg-white p-4 rounded shadow space-y-3">
        <div class="text-sm text-gray-600">‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå .glb/.gltf ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏∏‡∏ô‡∏î‡∏π 3D (‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏°‡πÄ‡∏•‡∏Å‡∏∏‡∏•, ‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï)</div>
        <div class="flex gap-2">
          <input id="modelUrl" class="input flex-1" placeholder="https://.../model.glb">
          <button class="btn" onclick="loadModel()">‡πÇ‡∏´‡∏•‡∏î</button>
        </div>
        <model-viewer id="viewer" src="" alt="3D" camera-controls auto-rotate ar ar-modes="webxr scene-viewer quick-look" style="width:100%;height:360px;background:#f3f4f6;border-radius:.5rem;"></model-viewer>
        <div class="text-xs text-gray-500">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ö‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô HTTPS ‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ AR</div>
      </div>
    </section>

    <!-- COMMUNITY -->
    <section id="community" class="hidden">
      <h2 class="text-2xl font-bold mb-4">üí¨ Community Q&A (local)</h2>
      <form id="postForm" class="bg-white p-4 rounded shadow mb-3">
        <input id="postTitle" placeholder="‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠" class="input">
        <textarea id="postBody" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î / ‡πÇ‡∏à‡∏ó‡∏¢‡πå" class="input"></textarea>
        <button class="btn" type="submit">‡πÇ‡∏û‡∏™‡∏ï‡πå</button>
      </form>
      <div id="postsList" class="space-y-3"></div>
    </section>

  </main>
</div>

<script src="app.js"></script>
</body>
</html>
